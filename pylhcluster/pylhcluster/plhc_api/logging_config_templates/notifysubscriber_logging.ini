# See documentation:
#   https://www.boost.org/doc/libs/1_66_0/libs/log/doc/html/log/detailed/utilities.html#log.detailed.utilities.setup.filter_formatter
# Comments are allowed. Comment line begins with the '#' character
# and spans until the end of the line.

# Sink settings sections for generic broker logs
# "ALLNotifySubscriber" implies that logs generated by all brokers in the process will be picked up
[Sinks.AllNotifySubscriber{notifysubscriber}]
# Sink destination type
Destination=TextFile
FileName=notifysubscriber{notifysubscriber}.log
Target=./
# Sink-specific filter. Optional, by default no filter is applied.
Filter="%Target% contains \"Generic\"" and %Action% begins with \"NotifySubscriber.\" {actor_filter}
# Formatter string. Optional, by default only log record message text is written.
# Format="[%TimeStamp%|%ProcessID%|%ThreadID%]: %Actor%-%Action%-%Tag%-%Scope%[%Message%]"
Format="[%TimeStamp%|%ProcessID%|%ThreadID%]: %Actor%-%Action%-%Tag%[%Message%]"
# The flag shows whether the sink should be asynchronous
Asynchronous=false
# Enables automatic stream flush after each log record.
AutoFlush=true

# Sink settings section for broker request type stats
[Sinks.AllStatsNotifySubscriber{notifysubscriber}]
# Sink destination type
Destination=TextFile
FileName=notifysubscriberstats{notifysubscriber}.log
Target=./
# Sink-specific filter. Optional, by default no filter is applied.
Filter="%Channel% matches \"Stats\" and %Action% matches \"Stats.NotifySubscriber\"" {actor_filter}
# Formatter string. Optional, by default only log record message text is written.
Format="%TimeStamp%|%Actor%|%Message%"
# The flag shows whether the sink should be asynchronous
Asynchronous=false
# Enables automatic stream flush after each log record.
AutoFlush=false
